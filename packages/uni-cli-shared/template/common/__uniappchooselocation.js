!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=38)}([function(e,t,a){"use strict";function n(e,t,a,n,i,o,r,s){var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=a,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},u._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:u}}a.d(t,"a",function(){return n})},function(e,t){e.exports={}},function(e,t,a){"use strict";a.r(t);var n=a(3),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);t.default=i.a},function(e,t,a){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=weex.requireModule("globalEvent"),i={data:function(){return{}},onLoad:function(t){var i=this,o=t.from,r=(t.callback,t.runtime),s=t.data;this.__from=o,this.__runtime=r,this.__page=e.webview.currentWebview().id;try{this.data=s?JSON.parse(decodeURIComponent(s)):{}}catch(e){this.data=null}e.key.addEventListener("backbutton",function(){"function"==typeof i.onClose?i.onClose():e.webview.currentWebview().close("auto")});var c=this,u=this._onPlusMessage=function(e){var t=e.data&&e.data.__message;t&&c.__onMessageCallback&&c.__onMessageCallback(t.data)};"v8-native"===r?a.$on(this.__page,u):n.addEventListener("plusMessage",u)},methods:{postMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={__message:{__page:this.__page,data:t,keep:i}};if(i||("v8-native"===this.__runtime?a.$off(this.__page,this._onPlusMessage):n.removeEventListener("plusMessage",this._onPlusMessage)),"v8"===this.__runtime)e.webview.postMessageToUniNView(o,this.__from);else if("v8-native"===this.__runtime)a.$emit(this.__from,{data:JSON.parse(JSON.stringify(o))});else{var r=e.webview.getWebviewById(this.__from);r&&r.evalJS("__plusMessage&&__plusMessage(".concat(JSON.stringify({data:o}),")"))}},onMessage:function(e){this.__onMessageCallback=e}}};t.default=i}).call(this,a(4).weexPlus,a(4).default)},function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.weexPlus=t.default=void 0,n="function"==typeof getUni?getUni:function(){var e=function(e){return"function"==typeof e},t=/^\$|^on|^create|Sync$|Manager$|^pause/,a=["os","getCurrentSubNVue","getSubNVueById","stopRecord","stopVoice","stopBackgroundAudio","stopPullDownRefresh","hideKeyboard","hideToast","hideLoading","showNavigationBarLoading","hideNavigationBarLoading","canIUse","navigateBack","closeSocket","pageScrollTo","drawCanvas"],n=function(e){return!(t.test(e)&&"createBLEConnection"!==e||~a.indexOf(e))},o=function(t){return function(){for(var a=arguments.length,n=Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(o.success)||e(o.fail)||e(o.complete)?t.apply(void 0,[o].concat(n)):new Promise(function(e,a){t.apply(void 0,[Object.assign({},o,{success:e,fail:a})].concat(n)),Promise.prototype.finally=function(e){var t=this.constructor;return this.then(function(a){return t.resolve(e()).then(function(){return a})},function(a){return t.resolve(e()).then(function(){throw a})})}}).then(function(e){return[null,e]}).catch(function(e){return[e]})}},r=[],s=void 0;function c(e){r.forEach(function(t){return t({origin:s,data:e})})}var u=i.webview.currentWebview().id,l=new BroadcastChannel("UNI-APP-SUBNVUE");function d(e){e.$processed=!0;var t=i.webview.currentWebview().id===e.id,a="uniNView"===e.__uniapp_origin_type&&e.__uniapp_origin_id,n=e.id;if(e.postMessage=function(e){a?l.postMessage({data:e,to:t?a:n}):S({type:"UniAppSubNVue",data:e})},e.onMessage=function(e){r.push(e)},e.__uniapp_mask_id){s=e.__uniapp_host;var o=e.__uniapp_mask,c=i.webview.getWebviewById(e.__uniapp_mask_id);c=c.parent()||c;var u=e.show,d=e.hide,f=e.close,p=function(){c.setStyle({mask:"none"})};e.show=function(){c.setStyle({mask:o});for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];return u.apply(e,a)},e.hide=function(){p();for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];return d.apply(e,a)},e.close=function(){p();for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];return f.apply(e,a)}}}function f(e){var t=i.webview.getWebviewById(e);return t&&!t.$processed&&d(t),t}l.onmessage=function(e){e.data.to===u&&c(e.data.data)};var p=weex.requireModule("plus"),h=weex.requireModule("globalEvent"),g=0,v={},y="__uniapp__service";h.addEventListener("plusMessage",function(e){"UniAppJsApi"===e.data.type?m(e.data.id,e.data.data):"UniAppSubNVue"===e.data.type?c(e.data.data,e.data.options):"onNavigationBarButtonTap"===e.data.type?"function"==typeof A&&A(e.data.data):"onNavigationBarSearchInputChanged"===e.data.type?"function"==typeof w&&w(e.data.data):"onNavigationBarSearchInputConfirmed"===e.data.type?"function"==typeof C&&C(e.data.data):"onNavigationBarSearchInputClicked"===e.data.type&&"function"==typeof x&&x(e.data.data)});var m=function(e,t){var a=v[e];a?(a(t),a.keepAlive||delete v[e]):console.error("callback["+e+"] is undefined")},_=function(t){var a,n,i=t.id,o=t.type,r=t.params;v[i]=(n=function(t){e(a)?a(t):a&&(~t.errMsg.indexOf(":ok")?e(a.success)&&a.success(t):~t.errMsg.indexOf(":fail")&&e(a.fail)&&a.fail(t),e(a.complete)&&a.complete(t))},(e(a=r)||a&&e(a.callback))&&(n.keepAlive=!0),n),p.postMessage({id:i,type:o,params:r},y)};function S(e){p.postMessage(e,y)}var b=function(e){return function(t){_({id:g++,type:e,params:t})}},A=void 0,w=void 0,C=void 0,x=void 0;function P(e){A=e}function T(e){w=e}function k(e){C=e}function L(e){x=e}function M(e){return weex.requireModule(e)}var j=weex.requireModule("dom"),O=weex.requireModule("globalEvent"),I=[];function N(e){"function"==typeof e&&(this.isUniAppReady?e():I.push(e))}O.addEventListener("plusMessage",function(e){"UniAppReady"===e.data.type&&(N.isUniAppReady=!0,I.length&&(I.forEach(function(e){return e()}),I=[]))});var B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V=weex.requireModule("stream"),E="GET",R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/x-www-form-urlencoded";return"object"===(void 0===e?"undefined":B(e))?"POST"===t.toUpperCase()&&"application/json"===a.toLowerCase()?JSON.stringify(e):Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"):e},D=weex.requireModule("plusstorage"),U="__TYPE",q=weex.requireModule("clipboard"),F=function(){if("function"==typeof getUniEmitter)return getUniEmitter;var e={$on:function(){console.warn("uni.$on failed")},$off:function(){console.warn("uni.$off failed")},$once:function(){console.warn("uni.$once failed")},$emit:function(){console.warn("uni.$emit failed")}};return function(){return e}}();function J(e,t,a){return e[t].apply(e,a)}var X=Object.freeze({loadFontFace:function(t){var a=t.family,n=t.source,i=(t.desc,t.success),o=(t.fail,t.complete);j.addRule("fontFace",{fontFamily:a,src:n.replace(/"/g,"'")});var r={errMsg:"loadFontFace:ok",status:"loaded"};e(i)&&i(r),e(o)&&o(r)},ready:N,request:function(t){var a=t.url,n=t.data,i=t.header,o=t.method,r=void 0===o?"GET":o,s=t.dataType,c=void 0===s?"json":s,u=(t.responseType,t.success),l=t.fail,d=t.complete,f=!1,p=!1,h={};if(i)for(var g in i)p||"content-type"!==g.toLowerCase()?h[g]=i[g]:(p=!0,h["Content-Type"]=i[g]);return r===E&&n&&(a=a+(~a.indexOf("?")?"&"===a.substr(-1)||"?"===a.substr(-1)?"":"&":"?")+R(n)),V.fetch({url:a,method:r,headers:h,type:"json"===c?"json":"text",body:r!==E?R(n,r,h["Content-Type"]):""},function(t){var a=t.status,n=(t.ok,t.statusText,t.data),i=t.headers,o={};!a||-1===a||f?(o.errMsg="request:fail",e(l)&&l(o)):(o.data=n,o.statusCode=a,o.header=i,e(u)&&u(o)),e(d)&&d(o)}),{abort:function(){f=!0}}},getStorage:function(t){var a=t.key,n=(t.data,t.success),i=t.fail,o=t.complete;D.getItem(a+U,function(t){if("success"===t.result){var r=t.data;D.getItem(a,function(t){if("success"===t.result){var a=t.data;r&&a?("String"!==r&&(a=JSON.parse(a)),e(n)&&n({errMsg:"getStorage:ok",data:a})):(t.errMsg="setStorage:fail",e(i)&&i(t))}else t.errMsg="setStorage:fail",e(i)&&i(t);e(o)&&o(t)})}else t.errMsg="setStorage:fail",e(i)&&i(t),e(o)&&o(t)})},setStorage:function(t){var a=t.key,n=t.data,i=t.success,o=t.fail,r=t.complete,s="String";"object"===(void 0===n?"undefined":B(n))&&(s="Object",n=JSON.stringify(n)),D.setItem(a,n,function(t){"success"===t.result?D.setItem(a+U,s,function(t){"success"===t.result?e(i)&&i({errMsg:"setStorage:ok"}):(t.errMsg="setStorage:fail",e(o)&&o(t))}):(t.errMsg="setStorage:fail",e(o)&&o(t)),e(r)&&r(t)})},removeStorage:function(t){var a=t.key,n=(t.data,t.success),i=t.fail,o=t.complete;D.removeItem(a,function(t){"success"===t.result?e(n)&&n({errMsg:"removeStorage:ok"}):(t.errMsg="removeStorage:fail",e(i)&&i(t)),e(o)&&o(t)}),D.removeItem(a+U)},clearStorage:function(e){e.key,e.data,e.success,e.fail,e.complete},getClipboardData:function(t){var a=t.success,n=(t.fail,t.complete);q.getString(function(t){var i={errMsg:"getClipboardData:ok",data:t.data};e(a)&&a(i),e(n)&&n(i)})},setClipboardData:function(t){var a=t.data,n=t.success,i=(t.fail,t.complete),o={errMsg:"setClipboardData:ok"};q.setString(a),e(n)&&n(o),e(i)&&i(o)},onSubNVueMessage:c,getSubNVueById:f,getCurrentSubNVue:function(){return f(i.webview.currentWebview().id)},$on:function(){return J(F(),"$on",[].concat(Array.prototype.slice.call(arguments)))},$off:function(){return J(F(),"$off",[].concat(Array.prototype.slice.call(arguments)))},$once:function(){return J(F(),"$once",[].concat(Array.prototype.slice.call(arguments)))},$emit:function(){return J(F(),"$emit",[].concat(Array.prototype.slice.call(arguments)))}}),z={os:{nvue:!0}},W={};return"undefined"!=typeof Proxy?W=new Proxy({},{get:function(e,t){if("os"===t)return{nvue:!0};if("postMessage"===t)return S;if("requireNativePlugin"===t)return M;if("onNavigationBarButtonTap"===t)return P;if("onNavigationBarSearchInputChanged"===t)return T;if("onNavigationBarSearchInputConfirmed"===t)return k;if("onNavigationBarSearchInputClicked"===t)return L;var a=X[t];return a||(a=b(t)),n(t)?o(a):a}}):(Object.keys(z).forEach(function(e){W[e]=z[e]}),W.postMessage=S,W.requireNativePlugin=M,W.onNavigationBarButtonTap=P,W.onNavigationBarSearchInputChanged=T,W.onNavigationBarSearchInputConfirmed=k,W.onNavigationBarSearchInputClicked=L,Object.keys({uploadFile:!0,downloadFile:!0,chooseImage:!0,previewImage:!0,getImageInfo:!0,saveImageToPhotosAlbum:!0,chooseVideo:!0,saveVideoToPhotosAlbum:!0,saveFile:!0,getSavedFileList:!0,getSavedFileInfo:!0,removeSavedFile:!0,openDocument:!0,setStorage:!0,getStorage:!0,getStorageInfo:!0,removeStorage:!0,clearStorage:!0,getLocation:!0,chooseLocation:!0,openLocation:!0,getSystemInfo:!0,getNetworkType:!0,makePhoneCall:!0,scanCode:!0,setScreenBrightness:!0,getScreenBrightness:!0,setKeepScreenOn:!0,vibrateLong:!0,vibrateShort:!0,addPhoneContact:!0,showToast:!0,showLoading:!0,hideToast:!0,hideLoading:!0,showModal:!0,showActionSheet:!0,setNavigationBarTitle:!0,setNavigationBarColor:!0,navigateTo:!0,redirectTo:!0,reLaunch:!0,switchTab:!0,navigateBack:!0,getProvider:!0,login:!0,getUserInfo:!0,share:!0,requestPayment:!0,subscribePush:!0,unsubscribePush:!0,onPush:!0,offPush:!0}).forEach(function(e){var t=X[e];t||(t=b(e)),n(e)?W[e]=o(t):W[e]=t})),W};var i=new WeexPlus(weex);t.weexPlus=i;var o=n(weex,i,BroadcastChannel);t.default=o},function(e,t,a){"use strict";var n=function(){var e=this.$createElement;return(this._self._c||e)("view")},i=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})},function(e,t,a){Vue.prototype.__$appStyle__={},Vue.prototype.__merge_style&&Vue.prototype.__merge_style(a(7).default,Vue.prototype.__$appStyle__)},function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);t.default=i.a},function(e,t,a){"use strict";a.r(t);var n=a(5),i=a(2);for(var o in i)"default"!==o&&function(e){a.d(t,e,function(){return i[e]})}(o);var r=a(0);var s=Object(r.a)(i.default,n.a,n.b,!1,null,null,"690d182e");(function(){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style)}).call(s),t.default=s.exports},function(e,t,a){"use strict";var n=a(30),i=a(13),o=a(0);var r=Object(o.a)(i.default,n.a,n.b,!1,null,null,"15bd6345");(function(){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(a(33).default,this.options.style):Object.assign(this.options.style,a(33).default)}).call(r),t.default=r.exports},,,,function(e,t,a){"use strict";var n=a(14),i=a.n(n);t.default=i.a},function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=a(8))&&i.__esModule?i:{default:i};var r=weex.requireModule("mapSearch"),s={mixins:[o.default],data:function(){return{searchKeyword:"",latitude:39.908692,longitude:116.397477,nearList:[],nearSelectedIndex:-1,noNearData:!1,selectedIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAaVBMVEUAAAAAef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef84EEEWAAAAInRSTlMA+QQY6izG8NO6TphC3JReWSMoDLOfgXajf29lZEs7Hcep1l5DEAAAAPxJREFUOMuFU9cSgyAQBDSUgCVgSS/8/0cGc8E5FQdeOGaXud0rBB9mzdFYRtKnGDkVkktB+VgkYE27poCw6aheUxpxPqHn6SyaRe66NKsfpqyRll6+Njlfsp/jS1WkRFeXf/QUh6Stg3iCAHndMX6VPxltlaiMNdPXqp1iftviR+qHcN34ZJm6FO4/4XY0FOeuknhpp0jdCamHJA7GhjqQ2n2ctCpofPw8K+22OHm8I+HjvXIYj4SYYvSBwTAeU0SROjA6hnEQCTYjg2McbEKhZgbGoVC41HqJQ6lxs1iP8blZuN3WrdudG5jcyGWHNj/2+cXJr15+ebPr/wWbNBG/n/A0GgAAAABJRU5ErkJggg==",markers:[{id:"location",latitude:39.908692,longitude:116.397477,zIndex:"1",iconPath:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABICAMAAACORiZjAAAByFBMVEUAAAD/PyL/PyL/PyL/PyL/PyL/PyL/PyL/PyL/PiL/PyL/PyL/PyP/PyL/PyL/PyL/PyL/PiL/PyL8PiP/PyL4OyP/PyL3OyX9Pyb0RUP0RkPzOiXsPj3YLi7TKSnQJiX0RkTgMCj0QjvkNC3vPDPwOy/9PyXsNSTyRUTgNDPdMjHrPTzuQD7iNTTxQ0HTJyTZKyf1RULlNjDZKyTfLSLeLSX0Qzz3Qzv8PSTMJCTmOjnPJSXLIiLzRkXWLCvgNDPZLyzVKijRJSTtPzvcMS7jNjPZLCnyREHpOzjiNDDtPzvzQz/VKSXkNTDsPDXyQjz2RT7pMyTxOinjMST5QjTmOjnPJSLdLyr0RD//YF7/////R0b/Tk3/XVv/WFb/VVP/S0v/Pz//W1n/UVD/REP/Xlz/Ojr/QUH/Skn/U1L/ODf7VlX5UU/oOzrqNzf/+/v5UlHvQUD2TEv0SUj3Tk3/2dn8W1r6TEv7R0b7REPvPTzzPDvwNjXkMjLnMDDjLS3dKir/xcX/vr7/qqn/pqX/mZn/fn7/ZWT/8PD/4eH/3t3/zs7/ra3/kpL/iIj/e3r5PDz4NjbxMTHsMTDlLCz/9vb/6ej/ubjhOGVRAAAAWXRSTlMABQ4TFgoIHhApI0RAGhgzJi89Ozg2LVEg4s5c/v366tmZiYl2X0pE/vn08eTe1sWvqqiOgXVlUE399/b08u3n4tzZ1dTKyMTDvLmzqqKal35taFxH6sC3oms+ongAAAOtSURBVEjHjZV3W9pQGMXJzQACQRARxVF3HdVW26od7q111NqhdbRSbQVElnvvbV1tv25Jgpr3kpCcP+/7/J5z8p57QScr4l46jSJohEhKEGlANKGBYBA1NFDpyklPz3FV5tWwHKnGEbShprIuFPAujEW14A2E6nqqWYshEcYYqnNC3mEgbyh9wMgZGCUbZHZFFobjtODLKWQpRMgyhrxiiQtwK/6SqpczY/QdvqlhJflcZpZk4hiryzecQIH0IitFY0xaBWDkqCEr9CLIDsDIJqywswbpNlB/ZEpVkZ4kPZKEqwmOTakrXGCk6IdwFYExDfI+SX4ISBeExjQp0m/jUMyIeuLVBo2Xma0kIRpVhyc1Kpxn42hxdd2BuOnv3Z2d3YO4Y29LCitcQiItcxxH5kcEncRhmc5UiofowuJxqPO5kZjm9rFROC9JWAXqC8HBgciI1AWcRbqj+fgX0emDg+MRif5OglmgJdlIEvzCJ8D5xQjQORhOlJlTKR4qmwD6B6FtOJ012yyMjrHMwuNTCM1jUG2SHDQPoWMMciZxdBR6PQOOtyF0ikEmEfrom5FqH0J7YOh+LUAE1bbolmrqj5SZOwTDxXJTdBFRqCrsBtoHRnAW7hRXThYE3VA7koVjo2CfUK4O2WdHodx7c7FsZ25sNDtotxp4SF++OIrpcHf+6Ojk7BA/X2wwOfRIeLj5wVGNClYJF4K/sY4SrVBJhj323hHXG/ymScEu091PH0HaS5e0MEslGeLuBCt9fqYWKLNXNIpZGcuXfqlqqaHWLhrFrLpWvqpqpU1ixFs9Ll1WY5ZLo19ECUb3X+VXg/y5wEj4qtYVlXCtRdIvErtyZi0nDJc1aLZxCPtrZ3P9PxLIX2Vy8P8zQAxla1xVZlYba6NbYAAi7KIwSxnKKjDHtoAHfOb/qSD/Z1OKEA4XbXHUr8ozq/XOZKOFxgkx4Mv177Jaz4fhQFnWdr8c4283pVhBRSDg4+zLeOYyu9CcCsIBK5T2fF0mXK7JkYaAEaAoY9Mazqw1FdnBRcWFuA/ZGDOd/R7eH7my3m1MA208k60I3ibHozUps/bICe+PQllbUmjrBaxIqaynG5JwT5UrgmW9ubpjrt5kJMOKlMvavIM2o08cVqRcVvONyNw0Y088YVmvPIJeqVUEy9rkmU31imBZ1x7PNV6RelkeD16Relmfbm81VQTLevs2A74iDWXpXzznwwEj9YCszcbCcOqiSY4jYTh1Jx1B04o+/wH6/wOSPFj1xgAAAABJRU5ErkJggg==",width:26,height:36}],searchList:[],showSearch:!1,noSearchData:!1}},onLoad:function(e){var t=this,a=JSON.parse(e.data);this.searchKeyword=a.keyword||"",this._searchInputTimer=null,this._centerPoint={latitude:39.908692,longitude:116.397477},this._searchNearTimer=null,this.onMessage(function(e){var a=t.nearList[t.nearSelectedIndex],n={name:a.name,address:a.address,latitude:a.location.latitude,longitude:a.location.longitude};t.postMessage({event:"selected",detail:n})})},onReady:function(){this.mapContext=e.createMapContext("map1",this),this.getUserLocation()},onUnload:function(){this.clearSearchTimer()},methods:{getUserLocation:function(){var t=this;e.getLocation({type:"gcj02",success:function(e){t.moveToCenter({latitude:e.latitude,longitude:e.longitude})}})},searchclick:function(e){this.showSearch=e,!1===e&&n.key.hideSoftKeybord()},showSearchView:function(){this.searchList=[],this.showSearch=!0},hideSearchView:function(){this.showSearch=!1,n.key.hideSoftKeybord(),this.noSearchData=!1},onsearchinput:function(e){var t=this,a=e.detail.value.replace(/^\s+|\s+$/g,"");this.clearSearchTimer(),this._searchInputTimer=setTimeout(function(){clearTimeout(t._searchInputTimer),t.search(a)},300)},clearSearchTimer:function(){this._searchInputTimer&&clearTimeout(this._searchInputTimer)},onregionchange:function(e){var t=this,a=e.detail,n=a.type||e.type;"drag"===(a.causedBy||e.causedBy)&&"end"===n&&this.mapContext.getCenterLocation({success:function(e){t.moveToCenter({latitude:e.latitude,longitude:e.longitude})}})},onItemClick:function(e,t){t.stopPropagation(),this.nearSelectedIndex!==e&&(this.nearSelectedIndex=e),this.updateMarker(this.nearList[e].location)},moveToCenter:function(e){this.latitude=e.latitude,this.longitude=e.longitude,this.updateCenter(e)},updateCenter:function(e){var t=this;this.nearSelectedIndex=-1,this.nearList=[],this.updateMarker(e),this.reverseGeocode(e),this._centerPoint=e,this._searchNearTimer&&clearTimeout(this._searchNearTimer),this._searchNearTimer=setTimeout(function(){clearTimeout(t._searchNearTimer),t.searchNearByPoint(e)},300)},searchNearByPoint:function(e){var t=this;this.noNearData=!1,r.poiSearchNearBy({point:{latitude:e.latitude,longitude:e.longitude},key:this.searchKeyword,radius:1e3},function(e){e.poiList&&e.poiList.length?t.nearList=t.nearList.concat(e.poiList):(t.nearList=[],t.noNearData=!0)})},updateMarker:function(e){this.mapContext.translateMarker({markerId:"location",destination:{latitude:e.latitude,longitude:e.longitude},duration:0},function(e){})},reverseGeocode:function(e){var t=this;r.reverseGeocode({point:e},function(a){"success"===a.type&&t.nearList.splice(0,0,{code:a.code,location:e,name:"地图位置",address:a.address||""})})},search:function(e){var t=this;this.noSearchData=!1,r.poiSearchNearBy({point:this._centerPoint,key:e,radius:5e3},function(e){e.poiList&&e.poiList.length?t.searchList=e.poiList:(t.searchList=[],t.noSearchData=!0)})},onSearchItemClick:function(e){this.nearSelectedIndex=-1,this.hideSearchView(),this.moveToCenter(e.location)}}};t.default=s}).call(this,a(4).default,a(4).weexPlus)},function(e,t){e.exports={page:{flex:1,position:"relative"},"flex-r":{flexDirection:"row",flexWrap:"nowrap"},"flex-c":{flexDirection:"column",flexWrap:"nowrap"},"flex-fill":{flex:1},"a-i-c":{alignItems:"center"},"j-c-c":{justifyContent:"center"},"search-bar":{paddingTop:"10",paddingRight:"15",paddingBottom:"10",paddingLeft:"15",backgroundColor:"#ffffff",borderBottomStyle:"solid",borderBottomWidth:"1",borderBottomColor:"#D3D3D3"},"search-area":{backgroundColor:"#ebebeb",borderRadius:"5",height:"28"},"search-text":{fontSize:"14",color:"#b4b4b4",paddingTop:"4",paddingRight:"4",paddingBottom:"4",paddingLeft:"4"},"no-data":{color:"#808080"},"no-data-search":{marginTop:"50"},map:{width:"750rpx",height:"220"},"list-view":{borderTopStyle:"solid",borderTopWidth:"1",borderTopColor:"#D3D3D3"},"list-item":{position:"relative",paddingTop:"12",paddingRight:"15",paddingBottom:"12",paddingLeft:"15"},"list-line":{position:"absolute",left:"15",right:0,bottom:0,height:"1",backgroundColor:"#d3d3d3"},"list-name":{fontSize:"14",lines:1,textOverflow:"ellipsis"},"list-address":{fontSize:"12",color:"#808080",lines:1,textOverflow:"ellipsis",marginTop:"5"},"list-icon-area":{paddingLeft:"10",paddingRight:"10"},"list-selected-icon":{width:"20",height:"20"},"search-view":{position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"#f6f6f6"},"search-input":{fontSize:"14",height:"28",paddingLeft:"6"},"search-cancel":{color:"#0079FF",marginLeft:"10"}}},,,,,,,,,,,,,,,function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("scroll-view",{staticStyle:{flexDirection:"column"},attrs:{scrollY:!0,enableBackToTop:!0,bubble:"true"}},[a("view",{staticClass:["page","flex-c"]},[a("view",{staticClass:["search-bar"]},[a("view",{staticClass:["search-area","flex-r","a-i-c","j-c-c"],on:{click:e.showSearchView}},[a("u-text",{staticClass:["search-text"]},[e._v("搜索地点")])])]),a("map",{staticClass:["map"],attrs:{id:"map1",showLocation:!0,longitude:e.longitude,latitude:e.latitude,markers:e.markers},on:{regionchange:e.onregionchange}}),e.noNearData?e._e():a("list",{staticClass:["flex-fill","list-view"]},e._l(e.nearList,function(t,n){return a("cell",{key:t.uid,appendAsTree:!0,attrs:{append:"tree"}},[a("view",{staticClass:["list-item"],on:{click:function(t){e.onItemClick(n,t)}}},[a("view",{staticClass:["flex-r"]},[a("view",{staticClass:["list-text-area","flex-fill","flex-c"]},[a("u-text",{staticClass:["list-name"]},[e._v(e._s(t.name.replace(/\\/g,"")))]),a("u-text",{staticClass:["list-address"]},[e._v(e._s(t.address.replace(/\\/g,"")))])]),n===e.nearSelectedIndex?a("view",{staticClass:["list-icon-area","flex-r","a-i-c","j-c-c"]},[a("u-image",{staticClass:["list-selected-icon"],attrs:{src:e.selectedIcon}})],1):e._e()]),a("view",{staticClass:["list-line"]})])])}),0),e.noNearData?a("view",{staticClass:["flex-fill","flex-r","a-i-c","j-c-c"]},[a("u-text",{staticClass:["no-data"]},[e._v("对不起，没有搜索到相关数据！")])]):e._e(),e.showSearch?a("view",{staticClass:["search-view","flex-c"]},[a("view",{staticClass:["search-bar","flex-r","a-i-c"]},[a("view",{staticClass:["search-area","flex-fill","flex-r"]},[a("u-input",{staticClass:["search-input","flex-fill"],attrs:{focus:!0,placeholder:"搜索地点"},on:{input:e.onsearchinput}})],1),a("u-text",{staticClass:["search-cancel"],on:{click:e.hideSearchView}},[e._v("取消")])]),e.noSearchData?e._e():a("list",{staticClass:["flex-fill","list-view"]},e._l(e.searchList,function(t,n){return a("cell",{key:t.uid,appendAsTree:!0,attrs:{append:"tree"}},[a("view",{staticClass:["list-item"],on:{click:function(a){e.onSearchItemClick(t)}}},[a("view",{staticClass:["flex-r"]},[a("view",{staticClass:["list-text-area","flex-fill","flex-c"]},[a("u-text",{staticClass:["list-name"]},[e._v(e._s(t.name.replace(/\\/g,"")))]),a("u-text",{staticClass:["list-address"]},[e._v(e._s(t.address.replace(/\\/g,"")))])])]),a("view",{staticClass:["list-line"]})])])}),0),e.noSearchData?a("view",{staticClass:["flex-fill","flex-r","j-c-c"]},[a("u-text",{staticClass:["no-data","no-data-search"]},[e._v("对不起，没有搜索到相关数据！")])]):e._e()]):e._e()],1)])},i=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})},,,function(e,t,a){"use strict";a.r(t);var n=a(15),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);t.default=i.a},,,,,function(e,t,a){"use strict";a.r(t);a(6);var n=a(9);n.default.mpType="page",n.default.route="__uniappchooselocation",n.default.el="#root",new Vue(n.default)}]);